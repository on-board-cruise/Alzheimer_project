<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>

  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

</head>

<body>
        <p>
          <h2>예측결과</h2>
          No: {{object.pk}} <br>
        <table class="table table-striped table-bordered table-hover">
            <th>mild 확률</th>
            <th>moderate 확률</th>
            <th>normal 확률</th>
            <th>very mild 확률</th>
            <tr class='hovered'>
                <td id='mild'>{{object.mild}}</td>
                <td id='moderate'>{{object.moderate}}</td>
                <td id='normal'>{{object.normal}}</td>
                <td id='very_mild'>{{object.very_mild}}</td>
            </tr>
        </table>

    </p>
    <div class='images'>
        <div class='mri'>
            <img src='{{object.img_url}}' width='300'>
        </div>
        <div class='chart' id='piechart' style="width: 900px; height: 500px;">

        </div>
    </div>
    

    <script src="../static/js/result.js"></script>
    <script type='text/javascript'>
        google.charts.load('current', { 'packages': ['corechart'] });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            console.log(document.getElementById('mild').textContent)
            var data = google.visualization.arrayToDataTable([
                ['Class', 'Probability per Class'],
                ['Mild', Number(document.getElementById('mild').textContent)],
                ['Moderate', Number(document.getElementById('moderate').textContent)],
                ['Normal', Number(document.getElementById('normal').textContent)],
                ['Very Mild', Number(document.getElementById('very_mild').textContent)]
            ]);

            var options = {
                title: 'predict Alzheimer disease'
            };

            var chart = new google.visualization.PieChart(document.getElementById('piechart'));

            chart.draw(data, options);
        }
    </script>  
</body>

</html>